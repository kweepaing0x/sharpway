import{j as e,r as u,X as g,B as x,F as v,m as y,T as w,d as C,S as k,J as S,K as T,k as I}from"./ui-components-CL-10tNC.js";import{u as f,r as i,L as E}from"./react-vendor-NfsKhbMh.js";import{a as b}from"./stores-BBDuH2RS.js";import{c as B}from"./index-DNL726t5.js";const F=()=>e.jsxs("div",{className:"text-center py-8",children:[e.jsx(u,{className:"h-12 w-12 text-theme-tertiary mx-auto mb-4"}),e.jsx("p",{className:"text-theme-secondary",children:"Your cart is empty"})]}),M=({item:s,removeItem:t,updateQuantity:a})=>e.jsxs("div",{className:"flex items-center space-x-4 bg-theme-card p-4 rounded-lg border border-theme",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover rounded"}):e.jsx("div",{className:"w-full h-full bg-theme-tertiary rounded flex items-center justify-center",children:e.jsx(u,{className:"h-6 w-6 text-theme-tertiary"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:["THB ",s.price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>a(s.productId,Math.max(0,s.quantity-1)),className:"p-1 hover:bg-theme-tertiary rounded",children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx("span",{className:"w-8 text-center",children:s.quantity}),e.jsx("button",{onClick:()=>a(s.productId,s.quantity+1),className:"p-1 hover:bg-theme-tertiary rounded",children:e.jsx(y,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>t(s.productId),className:"p-1 hover:bg-red-100 rounded text-red-600 dark:hover:bg-red-900/20",children:e.jsx(w,{className:"h-4 w-4"})})]})]}),L=({isOpen:s,onClose:t})=>{const a=f(),{items:l,removeItem:o,updateQuantity:d,getTotal:h,clearCart:n}=b(),m=()=>{t(),a("/checkout")};return s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:t}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-theme-card shadow-xl z-50 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-theme",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"h-6 w-6 text-theme-secondary mr-2"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Shopping Cart"})]}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-theme-tertiary rounded-full",children:e.jsx(g,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.length===0?e.jsx(F,{}):e.jsx("div",{className:"space-y-4",children:l.map(c=>e.jsx(M,{item:c,removeItem:o,updateQuantity:d},c.id))})}),l.length>0&&e.jsxs("div",{className:"border-t border-theme p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["THB ",h().toFixed(2)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(x,{variant:"secondary",onClick:n,fullWidth:!0,children:"Clear Cart"}),e.jsx(x,{variant:"primary",onClick:m,fullWidth:!0,children:"Checkout"})]})]})]})]}):null},W=({onSearch:s,searchValue:t=""})=>{f();const{currentTheme:a,toggleTheme:l}=B(),[o,d]=i.useState(!1),[h,n]=i.useState(!1),[m,c]=i.useState(t),p=b(r=>r.getItemCount());i.useEffect(()=>{const r=()=>{d(window.scrollY>0)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const N=r=>{const j=r.target.value;c(j),s==null||s(j)};return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:`
          fixed top-0 left-0 right-0 z-50
          transition-all duration-200
          ${o?"bg-theme-header shadow-md":"bg-theme-header/80 backdrop-blur-sm"}
        `,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(E,{to:"/",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors dark:text-blue-400 dark:hover:text-blue-300",children:[e.jsx(C,{className:"h-8 w-8"}),e.jsx("span",{className:"text-xl font-bold hidden sm:block",children:" "})]}),e.jsx("div",{className:"flex-1 max-w-2xl px-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(k,{className:"h-5 w-5 text-theme-tertiary"})}),e.jsx("input",{type:"search",placeholder:"Search products...",value:m,onChange:N,className:`
                    block w-full pl-10 pr-3 py-2
                    border border-theme rounded-full
                    bg-theme-input 
                    text-theme-primary placeholder-theme-tertiary
                    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
                    transition-colors duration-200
                    sm:text-sm
                  `})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{variant:"ghost",onClick:l,className:"p-2 text-theme-secondary hover:text-theme-primary hover:bg-theme-tertiary transition-colors duration-200","aria-label":`Switch to ${a==="light"?"dark":"light"} mode`,children:a==="light"?e.jsx(S,{className:"h-5 w-5"}):e.jsx(T,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:()=>n(!0),className:`
                  relative p-2
                  text-theme-secondary hover:text-blue-600
                  transition-colors duration-200
                `,children:[e.jsx("span",{className:"sr-only",children:"Shopping cart"}),e.jsx(I,{className:"h-6 w-6"}),p>0&&e.jsx("span",{className:`
                      absolute -top-1 -right-1
                      h-5 w-5 
                      flex items-center justify-center
                      bg-blue-600 text-white
                      text-xs font-medium
                      rounded-full
                      animate-in fade-in duration-200
                    `,children:p})]})]})]})})}),e.jsx("div",{className:"h-16"}),e.jsx(L,{isOpen:h,onClose:()=>n(!1)})]})};export{L as C,W as M};
